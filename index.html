<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Undangan Pernikahan</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="wrapper">
  <!-- Musik -->
    <audio id="bgMusic" loop>
      <source src="" type="audio/mpeg" />
    </audio>
    <button id="musicBtn">ðŸ”Š</button>

    <!-- Halaman Cover -->
    <div id="coverPage" class="container section-1">
        <p class="fade-up">THE WEDDING OF</p>
        <h1 class="fade-up">DHIYA & ROSI</h1>
        <div class="section-1-img">
          <img class="fade-up img1-2" src="asset/page1/1-2.png" alt="">
          <img class="fade-up img1-1" src="asset/page1/1-1.png" alt="">
        </div>
        <h2 class="fade-up">Kepada Yth:</h2>
        <h3 class="fade-up" id="guestName">Tamu Undangan</h3>
    </div>

    <!-- Isi Undangan -->
    <div id="sectionsWrapper">
      <div class="container section-2">
        <div class="section-2-1">
          <p class="fade-up">Assalamu'alaikum Wr. Wb</p>
          <p class="fade-up"> Dengan memohon Ridho dan Rahmat Allah SWT,
 kami mengundang bapak/ibu/saudara/i sekalian
 untuk menghadiri acara pernikahan kami</p>
        </div>
        <div class="section-2-2">
          <img class="fade-up" src="asset/page2/2-1.png" alt="">
          <div>
            <h1 class="fade-up">Dhiya
            Miladini
            Fitrasyahri,
            S.I.Kom</h1>
            <p class="fade-up">
              Putri dari
            Bapak Ahmad Firmansyah
            (Alm.)
            & Ibu Dwi Antari K.A. Roem
            </p>
          </div>
        </div>
        <div class="section-2-3">
          <div>
            <h1 class="fade-up"> Muhammad Rosikhul Ilmi, S.I.Kom</h1>
            <p class="fade-up"> Putra dari Bapak Al Hasin & Ibu Sri Rokhayat</p>
          </div>
          <img class="fade-up" src="asset/page2/2-2.png" alt="">
        </div>
      </div>
      <div class="container section-3">
        <h1 class="fade-up">SAVE THE DATE</h1>
        <img class="fade-up" src="asset/page3/3.1.png" alt="">
        <img class="fade-up" src="asset/page3/3.2.png" alt="">
        <img class="fade-up" src="asset/page3/3.3.png" alt="">
        <h2 class="fade-up">Hotel Merapi Merbabu</h2>
        <p class="fade-up">Jl. Seturan Raya no.99, Condongcatur, Depok, Sleman</p>
        <img class="fade-up" src="asset/page3/3.4.png" alt="">
        <img class="fade-up" src="asset/kucing1.webp" alt="">
      </div>
      <div class="container section-4">
        <h1 class="fade-up delay-1">the wedding of</h1>
        <h2 class="fade-up delay-2">Siti & Fulan</h2>
      </div>
      <div class="container section-5">
        <h2>Galery Of Us</h2>
        <img src="asset/foto1.jpg" alt="">
        <img src="asset/foto2.jpg" alt="">
      </div>
    </div>
  </div>
<div id="imgOverlay" class="hidden overlay">
  <img id="zoomedImg" src="" alt="Zoomed Image" />
</div>
</div>

  <script>
    function getParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    const guestName = getParam("to");
    const session = getParam("session");

    document.getElementById("guestName").textContent = guestName
      ? decodeURIComponent(guestName.replace(/\+/g, " "))
      : "Tamu Undangan";

    const bgMusic = document.getElementById("bgMusic");
    const musicBtn = document.getElementById("musicBtn");
    let isPlaying = false;

    function toggleMusic() {
      if (isPlaying) {
        bgMusic.pause();
        musicBtn.textContent = "ðŸ”‡";
      } else {
        bgMusic.play().catch(() => {});
        musicBtn.textContent = "ðŸ”Š";
      }
      isPlaying = !isPlaying;
    }

    musicBtn.addEventListener("click", toggleMusic);

    document.body.addEventListener("click", () => {
      if (!isPlaying) {
        bgMusic.play().catch(() => {});
        isPlaying = true;
        musicBtn.textContent = "ðŸ”Š";
      }
    }, { once: true });

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('show');
        }
        });
    }, {
        threshold: 0.5
    });

document.addEventListener("DOMContentLoaded", function () {
    const coverPage = document.querySelector("#coverPage");
    const fadeElements = coverPage.querySelectorAll(".fade-up");

    const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                fadeElements.forEach((el, index) => {
                    el.style.transitionDelay = `${index * 0.3}s`; // jeda antar elemen
                    setTimeout(() => {
                        el.classList.add("show");
                    }, 200); // jeda awal sebelum mulai animasi
                });
                observer.unobserve(coverPage); // stop observe biar cuma sekali animasi
            }
        });
    }, { threshold: 0.1 }); // mulai trigger kalau 20% elemen terlihat

    observer.observe(coverPage);
});

    
    // Elemen overlay dan img yang tampil besar
    const overlay = document.getElementById("imgOverlay");
    const zoomedImg = document.getElementById("zoomedImg");

    // Daftar container yang diperbolehkan
    const allowedContainers = [
    // document.getElementById("coverPage"),
    document.querySelector(".section-2"),
    document.querySelector(".section-4"),
    document.querySelector(".section-5")
    ];

    // Loop setiap container dan pasang event untuk img-nya
    allowedContainers.forEach(container => {
    if (container) {
        container.querySelectorAll("img").forEach(img => {
        img.addEventListener("click", () => {
            zoomedImg.src = img.src;
            overlay.classList.remove("hidden");
        });
        });
    }
    });

    // Tutup overlay saat diklik di luar gambar
    overlay.addEventListener("click", (e) => {
    if (e.target === overlay) {
        overlay.classList.add("hidden");
        zoomedImg.src = "";
    }
    });
    
    document.querySelectorAll('.fade-up').forEach(el => {
        observer.observe(el);
    });

      if ('scrollRestoration' in history) {
        history.scrollRestoration = 'manual';
      }
      window.scrollTo(0, 0);
  </script>
</body>
</html>
